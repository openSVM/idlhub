# IDL Protocol - Complete System Documentation

```
╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║   ██╗██████╗ ██╗         ██████╗ ██████╗  ██████╗ ████████╗ ██████╗  ██████╗ ║
║   ██║██╔══██╗██║         ██╔══██╗██╔══██╗██╔═══██╗╚══██╔══╝██╔═══██╗██╔════╝ ║
║   ██║██║  ██║██║         ██████╔╝██████╔╝██║   ██║   ██║   ██║   ██║██║      ║
║   ██║██║  ██║██║         ██╔═══╝ ██╔══██╗██║   ██║   ██║   ██║   ██║██║      ║
║   ██║██████╔╝███████╗    ██║     ██║  ██║╚██████╔╝   ██║   ╚██████╔╝╚██████╗ ║
║   ╚═╝╚═════╝ ╚══════╝    ╚═╝     ╚═╝  ╚═╝ ╚═════╝    ╚═╝    ╚═════╝  ╚═════╝ ║
║                                                                              ║
║              Prediction Markets for Solana Protocol Metrics                 ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝
```

## Table of Contents

1. [System Overview](#system-overview)
2. [Core Features](#core-features)
3. [Staking System](#staking-system)
4. [Voting System (veIDL)](#voting-system-veidl)
5. [Prediction Markets](#prediction-markets)
6. [Badge System](#badge-system)
7. [Token Flow](#token-flow)
8. [Smart Contract Architecture](#smart-contract-architecture)

---

## System Overview

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           IDL PROTOCOL ECOSYSTEM                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐ │
│   │             │    │             │    │             │    │             │ │
│   │   STAKE     │    │    VOTE     │    │    BET      │    │   BADGES    │ │
│   │             │    │             │    │             │    │             │ │
│   │  Earn IDL   │    │  Govern     │    │  Predict    │    │  Achieve    │ │
│   │  Rewards    │    │  Protocol   │    │  Metrics    │    │  Rewards    │ │
│   │             │    │             │    │             │    │             │ │
│   └──────┬──────┘    └──────┬──────┘    └──────┬──────┘    └──────┬──────┘ │
│          │                  │                  │                  │        │
│          └──────────────────┴────────┬─────────┴──────────────────┘        │
│                                      │                                      │
│                            ┌─────────▼─────────┐                           │
│                            │                   │                           │
│                            │    $IDL TOKEN     │                           │
│                            │                   │                           │
│                            │  - Utility Token  │                           │
│                            │  - Governance     │                           │
│                            │  - Betting        │                           │
│                            │  - Rewards        │                           │
│                            │                   │                           │
│                            └───────────────────┘                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Core Features

```
╔═══════════════════════════════════════════════════════════════════════════╗
║                            FOUR PILLARS OF IDL                            ║
╠═══════════════════════════════════════════════════════════════════════════╣
║                                                                           ║
║  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  ┌───────┐ ║
║  │                 │  │                 │  │                 │  │       │ ║
║  │    💰 STAKE     │  │    🗳️  VOTE     │  │    🎯 BET       │  │🏆BADGE│ ║
║  │                 │  │                 │  │                 │  │       │ ║
║  │  Lock IDL for   │  │  Lock for veIDL │  │  Predict DeFi   │  │ Earn  │ ║
║  │  protocol fees  │  │  to vote on     │  │  protocol       │  │ NFT   │ ║
║  │  + betting      │  │  governance     │  │  metrics like   │  │awards │ ║
║  │  bonus up to    │  │  proposals      │  │  TVL, volume,   │  │ for   │ ║
║  │  50%            │  │                 │  │  users, etc.    │  │milesto│ ║
║  │                 │  │                 │  │                 │  │ nes   │ ║
║  └─────────────────┘  └─────────────────┘  └─────────────────┘  └───────┘ ║
║                                                                           ║
╚═══════════════════════════════════════════════════════════════════════════╝
```

---

## Staking System

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              STAKING FLOW                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                              ┌───────────────┐                              │
│                              │               │                              │
│     USER WALLET              │   IDL TOKEN   │                              │
│         │                    │               │                              │
│         │                    └───────┬───────┘                              │
│         │                            │                                      │
│         │         ┌──────────────────┼──────────────────┐                   │
│         │         │                  │                  │                   │
│         │         ▼                  ▼                  ▼                   │
│         │   ┌───────────┐     ┌───────────┐     ┌───────────┐              │
│         │   │           │     │           │     │           │              │
│         └──►│  STAKE    │     │  LOCK     │     │   HOLD    │              │
│             │           │     │  (veIDL)  │     │           │              │
│             └─────┬─────┘     └─────┬─────┘     └─────┬─────┘              │
│                   │                 │                 │                     │
│                   ▼                 ▼                 ▼                     │
│             ┌───────────┐     ┌───────────┐     ┌───────────┐              │
│             │ BETTING   │     │  VOTING   │     │  TRADING  │              │
│             │ BONUS     │     │  POWER    │     │           │              │
│             │ up to 50% │     │           │     │           │              │
│             └───────────┘     └───────────┘     └───────────┘              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


                         STAKING BONUS CALCULATION
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   Staked Amount          Betting Bonus                                      │
│   ─────────────          ─────────────                                      │
│                                                                             │
│   0 IDL         ──────►  0%                                                 │
│   │                                                                         │
│   │  ┌────────────────────────────────────────────────────────┐            │
│   │  │▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓│            │
│   │  │                   LINEAR SCALE                        │            │
│   │  │                                                       │            │
│   │  │  bonus = (staked_amount / 1,000,000) * 50%           │            │
│   │  │                                                       │            │
│   │  │  MAX BONUS = 50%                                     │            │
│   │  └────────────────────────────────────────────────────────┘            │
│   │                                                                         │
│   1M IDL        ──────►  50% (MAX)                                         │
│                                                                             │
│   EXAMPLE:                                                                  │
│   ┌─────────────────────────────────────────────────────────────┐          │
│   │ User stakes 500,000 IDL                                     │          │
│   │ Bonus = (500,000 / 1,000,000) * 50% = 25%                  │          │
│   │                                                              │          │
│   │ If user bets 100 IDL:                                       │          │
│   │   Effective bet = 100 * 1.25 = 125 IDL                      │          │
│   └─────────────────────────────────────────────────────────────┘          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Voting System (veIDL)

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              veIDL SYSTEM                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   veIDL = Vote-Escrowed IDL                                                │
│                                                                             │
│   Lock your staked IDL for a period to receive veIDL voting power.         │
│   Longer lock = More veIDL = More voting power                             │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                      LOCK DURATION MULTIPLIERS                      │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   Duration        Multiplier        Example (1000 IDL staked)       │  │
│   │   ──────────      ──────────        ─────────────────────────       │  │
│   │                                                                     │  │
│   │   1 Week          1.0x              1,000 veIDL                     │  │
│   │   1 Month         1.5x              1,500 veIDL                     │  │
│   │   3 Months        2.0x              2,000 veIDL                     │  │
│   │   1 Year          3.0x              3,000 veIDL                     │  │
│   │   4 Years         4.0x              4,000 veIDL (MAX)               │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│                                                                             │
│                          GOVERNANCE FLOW                                    │
│                                                                             │
│   ┌──────────┐    ┌──────────┐    ┌──────────┐    ┌──────────┐            │
│   │          │    │          │    │          │    │          │            │
│   │ PROPOSAL │───►│  VOTING  │───►│  QUORUM  │───►│ EXECUTED │            │
│   │ CREATED  │    │  PERIOD  │    │  CHECK   │    │          │            │
│   │          │    │ (7 days) │    │          │    │          │            │
│   └──────────┘    └──────────┘    └────┬─────┘    └──────────┘            │
│                                        │                                    │
│                                        ▼                                    │
│                              ┌──────────────────┐                          │
│                              │   VOTE WEIGHT    │                          │
│                              │                  │                          │
│                              │  1 veIDL = 1 Vote│                          │
│                              │                  │                          │
│                              │  YES vs NO       │                          │
│                              │  Majority wins   │                          │
│                              └──────────────────┘                          │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Prediction Markets

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           PREDICTION MARKETS                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Bet on real Solana protocol metrics using on-chain data                  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                       SUPPORTED METRICS                             │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   📊 TVL (Total Value Locked)     - Will protocol reach $X TVL?    │  │
│   │   📈 24h Volume                   - Will volume exceed $X?          │  │
│   │   👥 Unique Users                 - Will users reach X count?       │  │
│   │   🔄 Transactions                 - Will TXs exceed X per day?      │  │
│   │   💵 Token Price                  - Will price reach $X?            │  │
│   │   📉 Market Cap                   - Will mcap exceed $X?            │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│                                                                             │
│                          MARKET LIFECYCLE                                   │
│                                                                             │
│   ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐             │
│   │         │     │         │     │         │     │         │             │
│   │ CREATE  │────►│  OPEN   │────►│ RESOLVE │────►│  CLAIM  │             │
│   │ MARKET  │     │ BETTING │     │ OUTCOME │     │ WINNINGS│             │
│   │         │     │         │     │         │     │         │             │
│   └─────────┘     └─────────┘     └─────────┘     └─────────┘             │
│        │               │               │               │                   │
│        ▼               ▼               ▼               ▼                   │
│   ┌─────────┐     ┌─────────┐     ┌─────────┐     ┌─────────┐             │
│   │Creator  │     │Users bet│     │Oracle   │     │Winners  │             │
│   │sets     │     │YES or NO│     │reports  │     │receive  │             │
│   │params   │     │         │     │actual   │     │payout   │             │
│   │         │     │         │     │value    │     │         │             │
│   └─────────┘     └─────────┘     └─────────┘     └─────────┘             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


                              BETTING MECHANICS
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   PARIMUTUEL SYSTEM - All bets go into a pool, winners split proportionally │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                                                                     │  │
│   │                    MARKET: Jupiter TVL > $1B?                       │  │
│   │                                                                     │  │
│   │        YES POOL                           NO POOL                   │  │
│   │     ┌───────────┐                     ┌───────────┐                │  │
│   │     │           │                     │           │                │  │
│   │     │  62,000   │                     │  38,000   │                │  │
│   │     │   IDL     │                     │   IDL     │                │  │
│   │     │           │                     │           │                │  │
│   │     │   62%     │                     │   38%     │                │  │
│   │     │           │                     │           │                │  │
│   │     └───────────┘                     └───────────┘                │  │
│   │           │                                 │                       │  │
│   │           └────────────────┬────────────────┘                       │  │
│   │                            ▼                                        │  │
│   │                    ┌───────────────┐                               │  │
│   │                    │  TOTAL POOL   │                               │  │
│   │                    │  100,000 IDL  │                               │  │
│   │                    └───────────────┘                               │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   PAYOUT CALCULATION:                                                       │
│   ─────────────────────                                                     │
│                                                                             │
│   If YES wins:                                                              │
│     Your payout = (your_bet / total_yes_bets) * total_pool * 0.97          │
│                                                               ▲             │
│                                                               │             │
│                                                          3% fee             │
│   EXAMPLE:                                                                  │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                                                                     │  │
│   │   You bet 1,000 IDL on YES                                         │  │
│   │   Total YES pool: 62,000 IDL                                       │  │
│   │   Total pool: 100,000 IDL                                          │  │
│   │                                                                     │  │
│   │   If YES wins:                                                      │  │
│   │     Payout = (1,000 / 62,000) * 100,000 * 0.97                     │  │
│   │           = 0.01613 * 97,000                                       │  │
│   │           = 1,564.5 IDL                                            │  │
│   │                                                                     │  │
│   │   Profit = 1,564.5 - 1,000 = 564.5 IDL (+56.5%)                    │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘


                              COMMIT-REVEAL SCHEME
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│   To prevent front-running, bets use a commit-reveal mechanism:            │
│                                                                             │
│   PHASE 1: COMMIT                      PHASE 2: REVEAL                     │
│   ┌─────────────────────┐              ┌─────────────────────┐             │
│   │                     │              │                     │             │
│   │  User submits:      │              │  User reveals:      │             │
│   │                     │              │                     │             │
│   │  hash(bet + salt)   │    ────►     │  bet details        │             │
│   │                     │              │  + salt             │             │
│   │  Bet is hidden      │              │                     │             │
│   │                     │              │  Contract verifies  │             │
│   │                     │              │  hash matches       │             │
│   └─────────────────────┘              └─────────────────────┘             │
│                                                                             │
│   Timeline:                                                                 │
│   ─────────────────────────────────────────────────────────────────────    │
│                                                                             │
│   │◄──── COMMIT PHASE ────►│◄──── REVEAL PHASE ────►│◄─── RESOLUTION ──►│ │
│   │       (betting)        │      (24h window)       │    (oracle)       │ │
│   │                        │                         │                   │ │
│   ─────────────────────────────────────────────────────────────────────    │
│   Market                  Betting                   Market               │
│   Created                 Ends                      Resolves             │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Badge System

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              BADGE SYSTEM                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Earn badges for milestones. Badges grant bonus veIDL.                    │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                         BADGE TIERS                                 │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   🥉 BRONZE      $1,000 volume      +50,000 veIDL                  │  │
│   │   🥈 SILVER      $10,000 volume     +250,000 veIDL                 │  │
│   │   🥇 GOLD        $100,000 volume    +1,000,000 veIDL               │  │
│   │   💎 PLATINUM    $500,000 volume    +5,000,000 veIDL               │  │
│   │   👑 DIAMOND     $1,000,000 volume  +20,000,000 veIDL              │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                       ACHIEVEMENT BADGES                            │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   🚀 Early Adopter     - Join during launch phase                  │  │
│   │   💰 First Stake       - Stake any amount of IDL                   │  │
│   │   🎲 First Bet         - Place your first prediction               │  │
│   │   🗳️  Voter             - Vote on 5 proposals                       │  │
│   │   🎯 Sharpshooter      - Win 10 predictions                        │  │
│   │   🐋 Whale             - Stake 100,000+ IDL                        │  │
│   │   🏆 Champion          - Reach top 10 leaderboard                  │  │
│   │   📝 Market Maker      - Create 3 markets                          │  │
│   │   💎 Diamond Hands     - Lock veIDL for 1+ year                    │  │
│   │   🔥 Hot Streak        - Win 5 bets in a row                       │  │
│   │   🧠 Oracle            - 80%+ win rate (20+ bets)                  │  │
│   │   👑 Legend            - Earn all other badges                     │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Token Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              TOKEN ECONOMICS                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                          FEE DISTRIBUTION                                   │
│                                                                             │
│                     ┌─────────────────────────┐                            │
│                     │     BETTING FEES        │                            │
│                     │        (3%)             │                            │
│                     └───────────┬─────────────┘                            │
│                                 │                                           │
│               ┌─────────────────┼─────────────────┐                        │
│               │                 │                 │                        │
│               ▼                 ▼                 ▼                        │
│        ┌───────────┐     ┌───────────┐     ┌───────────┐                  │
│        │           │     │           │     │           │                  │
│        │  STAKERS  │     │  MARKET   │     │ TREASURY  │                  │
│        │   (50%)   │     │  CREATOR  │     │   (25%)   │                  │
│        │           │     │   (25%)   │     │           │                  │
│        └───────────┘     └───────────┘     └───────────┘                  │
│              │                 │                 │                         │
│              ▼                 ▼                 ▼                         │
│        ┌───────────┐     ┌───────────┐     ┌───────────┐                  │
│        │ Staking   │     │ Incentive │     │ Protocol  │                  │
│        │ Rewards   │     │ to create │     │ Developmt │                  │
│        │ (APY)     │     │ markets   │     │           │                  │
│        └───────────┘     └───────────┘     └───────────┘                  │
│                                                                             │
│                                                                             │
│                          COMPLETE TOKEN FLOW                                │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                                                                     │  │
│   │                         ┌─────────────┐                            │  │
│   │                         │             │                            │  │
│   │            ┌───────────►│   STAKING   │◄───────────┐               │  │
│   │            │            │    POOL     │            │               │  │
│   │            │            │             │            │               │  │
│   │            │            └──────┬──────┘            │               │  │
│   │            │                   │                   │               │  │
│   │      ┌─────┴─────┐       ┌─────▼─────┐       ┌─────┴─────┐        │  │
│   │      │           │       │           │       │           │        │  │
│   │      │   STAKE   │       │  REWARDS  │       │  UNSTAKE  │        │  │
│   │      │           │       │           │       │           │        │  │
│   │      └─────┬─────┘       └─────┬─────┘       └─────┬─────┘        │  │
│   │            │                   │                   │               │  │
│   │            │                   ▼                   │               │  │
│   │            │            ┌─────────────┐            │               │  │
│   │            │            │             │            │               │  │
│   │            └───────────►│    USER     │◄───────────┘               │  │
│   │                         │   WALLET    │                            │  │
│   │            ┌───────────►│             │◄───────────┐               │  │
│   │            │            └──────┬──────┘            │               │  │
│   │            │                   │                   │               │  │
│   │      ┌─────┴─────┐       ┌─────▼─────┐       ┌─────┴─────┐        │  │
│   │      │           │       │           │       │           │        │  │
│   │      │  WINNINGS │       │   BET     │       │  CREATE   │        │  │
│   │      │           │       │           │       │  MARKET   │        │  │
│   │      └─────┬─────┘       └─────┬─────┘       └─────┬─────┘        │  │
│   │            │                   │                   │               │  │
│   │            │                   ▼                   │               │  │
│   │            │            ┌─────────────┐            │               │  │
│   │            │            │             │            │               │  │
│   │            └────────────│   MARKET    │────────────┘               │  │
│   │                         │    POOL     │                            │  │
│   │                         │             │                            │  │
│   │                         └─────────────┘                            │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Smart Contract Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         SMART CONTRACT ARCHITECTURE                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   Program ID: BSn7neicVV2kEzgaZmd6tZEBm4tdgzBRyELov65Lq7dt                 │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          ACCOUNT TYPES                              │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   ┌─────────────────┐    ┌─────────────────┐    ┌────────────────┐ │  │
│   │   │  ProtocolState  │    │  StakerAccount  │    │   VePosition   │ │  │
│   │   ├─────────────────┤    ├─────────────────┤    ├────────────────┤ │  │
│   │   │ authority       │    │ owner           │    │ owner          │ │  │
│   │   │ treasury        │    │ staked_amount   │    │ locked_stake   │ │  │
│   │   │ total_staked    │    │ last_stake_ts   │    │ ve_amount      │ │  │
│   │   │ total_ve_supply │    │ bump            │    │ lock_start     │ │  │
│   │   │ reward_pool     │    └─────────────────┘    │ lock_end       │ │  │
│   │   │ fees_collected  │                           │ bump           │ │  │
│   │   │ total_burned    │                           └────────────────┘ │  │
│   │   │ paused          │                                              │  │
│   │   └─────────────────┘                                              │  │
│   │                                                                     │  │
│   │   ┌─────────────────┐    ┌─────────────────┐    ┌────────────────┐ │  │
│   │   │ PredictionMrkt  │    │       Bet       │    │  VolumeBadge   │ │  │
│   │   ├─────────────────┤    ├─────────────────┤    ├────────────────┤ │  │
│   │   │ creator         │    │ owner           │    │ owner          │ │  │
│   │   │ protocol_id     │    │ market          │    │ tier           │ │  │
│   │   │ metric_type     │    │ amount          │    │ volume_usd     │ │  │
│   │   │ target_value    │    │ effective_amt   │    │ ve_amount      │ │  │
│   │   │ resolution_ts   │    │ bet_yes         │    │ issued_at      │ │  │
│   │   │ description     │    │ timestamp       │    │ bump           │ │  │
│   │   │ total_yes       │    │ claimed         │    └────────────────┘ │  │
│   │   │ total_no        │    │ bump            │                       │  │
│   │   │ resolved        │    └─────────────────┘                       │  │
│   │   │ outcome         │                                              │  │
│   │   │ oracle          │                                              │  │
│   │   └─────────────────┘                                              │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          INSTRUCTIONS                               │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   STAKING                                                           │  │
│   │   ────────                                                          │  │
│   │   • initialize()       - Set up protocol state                      │  │
│   │   • stake(amount)      - Stake IDL tokens                          │  │
│   │   • unstake(amount)    - Unstake IDL tokens                        │  │
│   │   • lock_for_ve(dur)   - Lock stake for veIDL                      │  │
│   │   • unlock_ve()        - Unlock expired veIDL position             │  │
│   │                                                                     │  │
│   │   MARKETS                                                           │  │
│   │   ───────                                                           │  │
│   │   • create_market()    - Create new prediction market              │  │
│   │   • place_bet()        - Place YES/NO bet on market                │  │
│   │   • resolve_market()   - Oracle resolves with actual value         │  │
│   │   • claim_winnings()   - Winner claims payout                      │  │
│   │                                                                     │  │
│   │   BADGES                                                            │  │
│   │   ──────                                                            │  │
│   │   • issue_badge()      - Award badge to user (admin)               │  │
│   │   • revoke_badge()     - Revoke badge (admin)                      │  │
│   │                                                                     │  │
│   │   ADMIN                                                             │  │
│   │   ─────                                                             │  │
│   │   • set_paused()       - Pause/unpause protocol                    │  │
│   │   • transfer_auth()    - Transfer authority                        │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          PDA SEEDS                                  │  │
│   ├─────────────────────────────────────────────────────────────────────┤  │
│   │                                                                     │  │
│   │   Account             Seeds                                         │  │
│   │   ───────────────     ─────────────────────────────────────────     │  │
│   │   ProtocolState       ["state"]                                     │  │
│   │   StakerAccount       ["staker", user_pubkey]                       │  │
│   │   VePosition          ["ve_position", user_pubkey]                  │  │
│   │   PredictionMarket    ["market", protocol_id, resolution_ts]        │  │
│   │   Bet                 ["bet", market_pubkey, user_pubkey, nonce]    │  │
│   │   VolumeBadge         ["badge", user_pubkey]                        │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## UI Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              USER INTERFACE                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                            HEADER                                   │  │
│   │  ┌────────┐                                          ┌────────────┐│  │
│   │  │IDL Logo│    Registry │ Docs │ Tokenomics          │Connect Btn ││  │
│   │  └────────┘                                          └────────────┘│  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          STATS BAR                                  │  │
│   │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐            │  │
│   │  │IDL       │  │Staked    │  │veIDL     │  │Badges    │            │  │
│   │  │Balance   │  │Amount    │  │Power     │  │Earned    │            │  │
│   │  │10,000    │  │5,000     │  │2,500     │  │3/12      │            │  │
│   │  └──────────┘  └──────────┘  └──────────┘  └──────────┘            │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          TAB NAVIGATION                             │  │
│   │  ┌─────────────┬─────────────┬─────────────┬─────────────┐         │  │
│   │  │  💰 STAKE   │  🗳️ VOTE    │  🎯 BET     │  🏆 BADGES  │         │  │
│   │  │  [ACTIVE]   │             │             │             │         │  │
│   │  └─────────────┴─────────────┴─────────────┴─────────────┘         │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────────────┐  │
│   │                          TAB CONTENT                                │  │
│   │                                                                     │  │
│   │   STAKE TAB:                                                        │  │
│   │   ┌─────────────────────────────────────────────────────────────┐  │  │
│   │   │  ┌────────────────────┐    ┌────────────────────┐          │  │  │
│   │   │  │    STAKE IDL       │    │   LOCK FOR veIDL   │          │  │  │
│   │   │  │                    │    │                    │          │  │  │
│   │   │  │  Amount: [____]    │    │  Duration: [____]  │          │  │  │
│   │   │  │  APY: 12.5%        │    │  Multiplier: 2x    │          │  │  │
│   │   │  │  Bonus: 25%        │    │  veIDL: 10,000     │          │  │  │
│   │   │  │                    │    │                    │          │  │  │
│   │   │  │  [STAKE]           │    │  [LOCK]            │          │  │  │
│   │   │  └────────────────────┘    └────────────────────┘          │  │  │
│   │   └─────────────────────────────────────────────────────────────┘  │  │
│   │                                                                     │  │
│   │   BET TAB:                                                          │  │
│   │   ┌─────────────────────────────────────────────────────────────┐  │  │
│   │   │  ┌────────────────────┐    ┌────────────────────┐          │  │  │
│   │   │  │ 📊 Jupiter TVL     │    │ 🌊 Raydium Volume  │          │  │  │
│   │   │  │                    │    │                    │          │  │  │
│   │   │  │ Will exceed $1B?   │    │ Will exceed $500M? │          │  │  │
│   │   │  │                    │    │                    │          │  │  │
│   │   │  │ [YES 62%][NO 38%]  │    │ [YES 34%][NO 66%]  │          │  │  │
│   │   │  │                    │    │                    │          │  │  │
│   │   │  │ Pool: 125K IDL     │    │ Pool: 89K IDL      │          │  │  │
│   │   │  └────────────────────┘    └────────────────────┘          │  │  │
│   │   └─────────────────────────────────────────────────────────────┘  │  │
│   │                                                                     │  │
│   └─────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## Quick Reference

```
╔═══════════════════════════════════════════════════════════════════════════╗
║                           QUICK REFERENCE                                 ║
╠═══════════════════════════════════════════════════════════════════════════╣
║                                                                           ║
║   LINKS                                                                   ║
║   ─────                                                                   ║
║   App:        /app.html                                                   ║
║   Docs:       /docs.html                                                  ║
║   Tokenomics: /tokenomics.html                                           ║
║   GitHub:     github.com/aldrin-labs/idlhub                              ║
║                                                                           ║
║   CONTRACTS                                                               ║
║   ─────────                                                               ║
║   Program:    BSn7neicVV2kEzgaZmd6tZEBm4tdgzBRyELov65Lq7dt               ║
║   Network:    Devnet (Solana)                                            ║
║                                                                           ║
║   KEY PARAMETERS                                                          ║
║   ──────────────                                                          ║
║   Betting Fee:     3%                                                    ║
║   Max Stake Bonus: 50%                                                   ║
║   Min Lock:        1 week                                                ║
║   Max Lock:        4 years                                               ║
║   Max veIDL Mult:  4x                                                    ║
║                                                                           ║
║   SDK USAGE                                                               ║
║   ─────────                                                               ║
║   Browser:    <script src="/sdk-browser.js"></script>                    ║
║   Node.js:    import { IdlProtocolClient } from './sdk'                  ║
║                                                                           ║
╚═══════════════════════════════════════════════════════════════════════════╝
```

---

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                             │
│                    Built with ❤️ on Solana                                  │
│                                                                             │
│                         IDL Protocol 2024                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```
